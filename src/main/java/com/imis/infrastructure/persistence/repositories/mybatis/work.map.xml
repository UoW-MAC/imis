<?xml version="1.0" encoding="UTF-8" ?>  
<!DOCTYPE mapper  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.imis.domain.repositories.WorkRepository">
	<cache eviction="FIFO" flushInterval="60000" size="512" readOnly="true" />
    <insert id="addWorkInfo" parameterType="java.util.List"> 
        insert into work(work_id,company,dates,title,duties,student_id,create_time,update_time) 
        select SEQ_WORK.NEXTVAL,A.* FROM ( 
        <foreach collection="list" index="index" item="item" separator="UNION">
              SELECT #{item.company},#{item.dates},#{item.title},#{item.duties},#{item.student.studentId},#{item.createTime},#{item.updateTime} FROM DUAL
        </foreach>
        ) A
    </insert> 
   
</mapper>

