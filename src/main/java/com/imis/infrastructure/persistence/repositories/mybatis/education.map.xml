<?xml version="1.0" encoding="UTF-8" ?>  
<!DOCTYPE mapper  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.imis.domain.repositories.EducationRepository">
	<cache eviction="FIFO" flushInterval="60000" size="512" readOnly="true" />

    <insert id="addEducationInfo" parameterType="List"> 
        insert into education(education_id,degree,major,gpa,institution,country,graduation_date,student_id,create_time,update_time)
        select SEQ_EDUCATION.NEXTVAL,A.* from ( 
	    <foreach collection="list" index="index" item="item" separator="UNION">
	         SELECT #{item.degree},#{item.major},#{item.gpa},#{item.institution},#{item.country},#{item.date},#{item.student.studentId},#{item.createTime},#{item.updateTime} FROM DUAL
	    </foreach>
	    ) A
    </insert> 
    
</mapper>

